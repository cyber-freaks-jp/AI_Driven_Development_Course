# AIがもたらす3つのセキュリティリスク

**AI駆動開発には、大きく分けて3つのセキュリティリスクがあります：**

1. **情報漏洩**：AIプロバイダー(OpenAIなど)への機密情報送信
2. **データや環境の破壊**：AIが生成した破壊的なコードの実行
3. **意図せぬコード生成**：セキュリティホール、バックドア等

それぞれのリスクについて見ていきましょう。

## リスク1：情報漏洩

ChatGPTのようなクラウドLLMの場合、AIに与えた情報はクラウドLLMのサーバーに送信された上で処理されます。

- **ソースコード**：独自のビジネスロジック、アルゴリズム
- **APIキー・パスワード**：データベース接続情報、外部サービスの認証情報
- **機密データ**：顧客情報、個人情報、社内機密
- **設計書・要件定義書**：マークダウンで管理している開発ドキュメント

### どこに漏洩するのか

- **AIプロバイダーのサーバー**（OpenAI、Anthropic、Google等）
- **AIプロバイダーの学習データ**（将来のモデル学習に使われる可能性）
- **ログとモニタリング**（プロバイダーのログに保存）

**特徴**：一度漏洩すると取り返しがつかない

## リスク2：データや環境の破壊

AIが破壊的なコードを生成してしまうリスクがあります。

### 代表的な例

#### データベースの全削除
```sql
-- AIが生成したコード
DELETE FROM users;  -- 条件なし！全ユーザーが削除される
```

#### ファイルシステムの破壊
```bash
# AIが生成したコード
rm -rf /*  -- システム全体が削除される
```

#### 無限ループによるシステムダウン
```typescript
// AIが生成したコード
while (true) {
  await createUser({ name: 'test' });  // 無限にユーザーが作成される
}
```

**特徴**：実行すると即座に影響が出るため、気づきやすい

## リスク3：意図せぬコード生成

AIが一見正常に見えるが、問題を含むコードを生成するリスクがあります。

### 代表的な問題

#### 1. セキュリティホール

**SQLインジェクション脆弱性**
```javascript
// AIが生成したコード
const query = `SELECT * FROM users WHERE email = '${email}'`;
db.execute(query);
```

**XSS脆弱性**
```javascript
// AIが生成したコード
document.getElementById('message').innerHTML = userInput;
```

**認証の欠如**
```javascript
// AIが生成したコード（認証チェックがない）
app.delete('/api/users/:id', async (req, res) => {
  await User.delete(req.params.id);
  res.json({ success: true });
});
```

#### 2. バックドアの埋め込み

AIが学習データに含まれていた悪意のあるコードを再生成してしまう可能性があります。

#### 3. ライセンス違反

AIが特定のOSSライブラリのコードを生成し、意図せずGPLライセンス違反になる可能性があります。

**特徴**：一見正常に動作するため、発見が非常に困難

**対策**：**人間がしっかりコードレビューする**ことで対応

## 3つのリスクの比較

| リスク | 発生確率 | 影響度 | 検出難易度 | 対策 |
|-------|---------|-------|-----------|------|
| **情報漏洩** | 非常に高い | 非常に大きい | 困難 | 後述 |
| **コード/データ破壊** | 高い | 非常に大きい | 比較的容易 | 後述 |
| **意図せぬコード生成** | 非常に高い | 大きい | 非常に困難 | **人間によるコードレビュー** |

## まとめ

AI駆動開発には3つの主要なセキュリティリスクがあります：

1. **情報漏洩**：AIプロバイダーへの機密情報送信
2. **コード/データ破壊**：AIが生成した破壊的なコードの実行
3. **意図せぬコード生成**：セキュリティホール、バックドア等

### それぞれの対策

- **リスク3（意図せぬコード生成）**：人間がしっかりコードレビューすることで対応
- **リスク1（情報漏洩）とリスク2（コード/データ破壊）**：この後の章で詳しく解説していきます
