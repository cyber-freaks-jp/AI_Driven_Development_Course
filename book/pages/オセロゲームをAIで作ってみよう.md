# オセロゲームをAIで作ってみよう

## はじめに

AI駆動開発の威力を体感する最良の方法は、実際にコードを生成してみることです。この章では、Cursorを使って自然言語の指示だけでオセロゲームを作成します。

## 準備：Cursorのインストール

1. [cursor.sh](https://cursor.sh) からCursorをダウンロード
2. インストール
3. アカウント作成（無料プランでOK）

## 目標

**作るもの：** HTML + CSS + JavaScript で動作するオセロゲーム

**特徴：**
- 1つのHTMLファイルで完結
- すぐに遊べる
- Cursorで簡単に生成

**学べること：**
- Cursorの基本的な使い方
- Composer機能の活用
- 段階的な機能追加
- エラー修正の依頼方法

## ステップ1：プロジェクトの準備

### 1. フォルダ作成

```bash
mkdir othello-game
cd othello-game
```

### 2. Cursorでフォルダを開く

- Cursorを起動
- `File > Open Folder`
- 作成したフォルダを選択

## ステップ2：Composerで一気に生成

### Composer を開く

- `Cmd + I`（Mac）または `Ctrl + I`（Windows）を押す
- 画面下部にComposerが表示される

### プロンプトを入力

以下をComposerに入力：

```
HTML + CSS + JavaScript で完結するオセロゲームを作成してください。

ファイル：
- index.html（1ファイルで完結）

要件：
- 8x8のボード
- 黒と白のコマ
- 標準的なオセロのルール
- クリックでコマを配置
- ターン表示
- スコア表示
- ゲーム終了時に勝敗を表示
- 「新しいゲーム」ボタン

デザイン：
- 緑色のボード
- 見やすいUI
- ホバーエフェクト

シンプルで分かりやすいコードにしてください。
```

### Enterを押す

Cursorが自動的に：
1. `index.html` を作成
2. HTML、CSS、JavaScriptのコードを生成
3. ファイルに書き込み

**所要時間：約10秒**

### 確認

1. `index.html` をブラウザで開く
2. オセロゲームが動作することを確認

**おめでとうございます！** Cursorで動作するオセロゲームが完成しました。

## ステップ3：Cmd+Kで機能追加

### アニメーション追加

1. `index.html` のCSSセクションを選択
2. `Cmd + K`（Mac）または `Ctrl + K`（Windows）を押す
3. 以下を入力：

```
コマが裏返る時の回転アニメーションを追加してください。
滑らかに動くようにしてください。
```

4. `Enter` を押す
5. 差分が表示される
6. 良ければ `Accept`（`Cmd + Enter`）

### サウンド追加

1. JavaScriptセクションを選択
2. `Cmd + K` を押す
3. 以下を入力：

```
コマを置いた時の効果音を追加してください。
Web Audio APIを使って、シンプルなクリック音を生成してください。
```

### AI対戦機能

1. Composerを開く（`Cmd + I`）
2. 以下を入力：

```
@index.html にコンピュータ対戦機能を追加してください。

要件：
- 「1人プレイ」「2人プレイ」のモード選択UI
- シンプルな思考アルゴリズム（評価関数を使用）
- コンピュータの手番は1秒後に自動的に打つ
- コンピュータの思考中表示

既存のコードを壊さないように追加してください。
```

## ステップ4：Cmd+Lで質問する

### AIチャットを開く

`Cmd + L`（Mac）または `Ctrl + L`（Windows）を押す

### コードを理解する

```
@index.html のisValidMove関数はどのように動作していますか？
詳しく説明してください。
```

```
このオセロゲームのアルゴリズムを改善する方法を教えてください。
```

```
パフォーマンスを向上させるには、どこを最適化すべきですか？
```

## Cursorの便利な機能

### 1. Tab補完

コードを書いている途中で、Cursorが自動的に続きを提案：

```javascript
// "function calc" まで入力すると...
function calculateValidMoves(player) {
    // この部分をCursorが自動生成
}
```

`Tab` キーで適用。

### 2. @記法でファイル参照

```
@index.html を参考に、同じスタイルでテトリスゲームも作成してください。
新しくtetris.htmlファイルを作成してください。
```

### 3. マルチファイル編集

Composerで複数ファイルを同時に編集：

```
index.htmlを以下のように分割してください：
- index.html（メインHTML）
- styles.css（スタイル）
- game.js（ゲームロジック）

既存の機能はすべて保持してください。
```

### 4. エラー修正

エラーが出たら：

1. エラー行を選択
2. `Cmd + K` を押す
3. 「このエラーを修正して」と入力

または、エラーメッセージをコピーしてComposerに：

```
以下のエラーが出ました。修正してください：

Uncaught TypeError: Cannot read property 'addEventListener' of null
    at index.html:224
```

## 実践：段階的な改善

### Step 1: 基本ゲーム
✓ 完成（上記の手順で作成済み）

### Step 2: デザイン改善

**Composer:**
```
@index.html のデザインをより現代的に改善してください。

要素：
- グラデーション背景
- 柔らかいシャドウ効果
- ホバーアニメーション
- レスポンシブデザイン（スマホ対応）
- ダークモード切り替えボタン
```

### Step 3: 機能拡張

**Composer:**
```
@index.html に以下の機能を追加してください：

1. 手の履歴表示（元に戻す機能）
2. ヒント機能（有効な手を表示）
3. ゲーム統計（勝率など）をLocalStorageに保存
4. 難易度設定（簡単・普通・難しい）
```

### Step 4: 最適化

**Composer:**
```
@index.html @game.js のパフォーマンスを最適化してください。

- 不要な再描画を削減
- アルゴリズムを最適化
- コードをクリーンアップ
```

## よくある問題と解決法

### 問題1：コードが生成されない

**解決法：**
- プロンプトをより具体的に
- ファイル名を明示（`@index.html`）
- 小さな変更に分割

### 問題2：期待と違うコードが生成される

**解決法：**
```
いいえ、そうではなく、こうしてください：
[具体的な指示]
```

### 問題3：エラーが修正されない

**解決法：**
```
以下のように修正してください：
[具体的な修正内容]

または、元のコードに戻して別のアプローチを試してください。
```

## Cursorを使うコツ

### 1. 明確な指示

❌ **悪い例：**
```
ゲームを改善して
```

✅ **良い例：**
```
@index.html にコマ裏返しの回転アニメーションを追加してください。
CSS transitionを使用し、0.5秒かけて360度回転するようにしてください。
```

### 2. 段階的な開発

```
1. まず基本機能を実装
2. 動作確認
3. 1つずつ機能追加
4. その都度テスト
```

### 3. ファイル参照の活用

```
@index.html を参照して、同じスタイルで実装してください。
```

### 4. Composerを活用

- 新規作成やマルチファイル編集 → Composer（`Cmd + I`）
- 既存コードの部分修正 → Cmd + K
- 質問や相談 → Chat（`Cmd + L`）

## 応用：他のゲームを作る

同じアプローチで他のゲームも作れます：

### テトリス

**Composer:**
```
HTML + CSS + JavaScriptでテトリスゲームを作成してください。

ファイル：tetris.html（1ファイルで完結）

要件：
- 標準的なテトリスのルール
- キーボード操作（矢印キー、スペースキー）
- スコア・レベル表示
- ライン消去のアニメーション
- Next表示
- Hold機能
- ゲームオーバー処理

シンプルで分かりやすいコードにしてください。
```

### マインスイーパー

**Composer:**
```
HTML + CSS + JavaScriptでマインスイーパーを作成してください。

ファイル：minesweeper.html（1ファイルで完結）

要件：
- 10x10のグリッド
- 10個の地雷
- 左クリックで開く、右クリックで旗
- 数字表示
- ゲームクリア・ゲームオーバー判定
- タイマー表示
- 難易度選択

シンプルで分かりやすいコードにしてください。
```

## まとめ

**Cursorでできること：**

✓ 自然言語でコード生成
✓ リアルタイム補完（Tab）
✓ 部分的な編集（Cmd + K）
✓ マルチファイル編集（Composer）
✓ コードの質問・相談（Cmd + L）

**重要なポイント：**

1. **Composerを活用**
   - 新規作成
   - 複数ファイル編集
   - 大きな変更

2. **Cmd + Kで部分修正**
   - 既存コードの修正
   - 機能追加
   - リファクタリング

3. **Cmd + Lで質問**
   - コードの理解
   - ベストプラクティス
   - 改善提案

4. **段階的に進める**
   - まず基本形
   - 動作確認
   - 1つずつ機能追加

**次のステップ：**

- より複雑なアプリケーション
- フレームワークを使った開発
- バックエンド連携
- データベース利用

Cursorを使えば、アイデアを数分でコードにできます！
