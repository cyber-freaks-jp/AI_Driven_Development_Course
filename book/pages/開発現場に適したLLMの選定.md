# 開発現場に適したLLMの選定

セキュリティリスクを最小化するためには、開発現場の要件に合わせて適切なLLMを選定することが重要です。このセクションでは、LLM選定の基準と具体的な選択肢を解説します。

## LLM選定の3つの軸

### 1. デプロイ形態

| 形態 | セキュリティ | コスト | 性能 | 運用負荷 |
|-----|------------|-------|------|---------|
| クラウド（パブリック） | △ 低い | ◎ 低い | ◎ 高い | ◎ 低い |
| プライベートクラウド | ○ 中程度 | ○ 中程度 | ○ 高い | ○ 中程度 |
| オンプレミス | ◎ 非常に高い | × 非常に高い | △ 制約あり | × 高い |

### 2. データ取り扱いポリシー

- **学習データとして使用される**：入力データがモデルの改善に使われる
- **学習データとして使用されない**：プライバシー保護オプション
- **データが保存されない**：リアルタイム処理のみ

### 3. プロバイダーの信頼性

- 企業の所在地（データ保護法の適用）
- セキュリティ認証（SOC 2、ISO 27001など）
- データ保護ポリシーの透明性

## デプロイ形態別の選択肢

### オプション1：クラウド（パブリック）

**代表例**：
- OpenAI（ChatGPT、GPT-4）
- Anthropic（Claude）
- Google（Gemini）

**メリット**：
- すぐに使える
- 最新のモデルが利用可能
- 低コスト
- 運用負荷ゼロ

**デメリット**：
- データが外部に送信される
- 情報漏洩リスクが高い
- データ保存ポリシーに依存

**適している現場**：
- スタートアップ
- 個人開発者
- 機密情報を扱わないプロジェクト
- プロトタイプ開発

**セキュリティ設定**：
- OpenAI：ChatGPT Enterprise（学習に使用されない）
- Anthropic：デフォルトで学習に使用されない
- Google：Gemini for Business（学習に使用されない）

### オプション2：プライベートクラウド（VPC内）

**代表例**：
- AWS Bedrock（Claude、Titan等）
- Azure OpenAI Service
- Google Cloud Vertex AI

**メリット**：
- データが自社のVPC内に留まる
- セキュリティコントロールが可能
- クラウドの利便性を維持
- スケーラブル

**デメリット**：
- クラウド版より高コスト
- 初期設定が必要
- 最新モデルが遅れて提供される場合がある

**適している現場**：
- 中規模以上の企業
- クラウド利用が許可されている現場
- コンプライアンス要件がある現場

**構成例（AWS Bedrock）**：

```yaml
# VPC内でBedrockを使用
VPC:
  CIDR: 10.0.0.0/16
  Subnets:
    - Private: 10.0.1.0/24
    - Private: 10.0.2.0/24
  
  Endpoints:
    - Bedrock (Claude)
  
  Security:
    - インターネットゲートウェイなし
    - NATゲートウェイなし
    - VPCエンドポイント経由のみアクセス
```

**コスト例**：
- Claude 3.5 Sonnet: $3/1Mトークン（入力）、$15/1Mトークン（出力）
- 月間100万トークン使用で約$20〜50

### オプション3：オンプレミス

**代表例**：
- Llama 3（Meta）
- Mistral
- Qwen
- 日本製LLM（Swallow、PLaMoなど）

**メリット**：
- データが完全に社内に留まる
- 最高レベルのセキュリティ
- インターネット接続不要
- カスタマイズ可能

**デメリット**：
- 高性能GPUが必要（高コスト）
- 運用負荷が非常に高い
- 性能がクラウド版より劣る場合がある
- 専門知識が必要

**適している現場**：
- 金融機関
- 医療機関
- 政府機関
- 機密性が極めて高いプロジェクト

**必要なインフラ**：

```
GPU：NVIDIA A100 80GB × 4台以上
　　　（Claude 3相当のモデルを動かす場合）

メモリ：256GB以上

ストレージ：2TB以上（SSD）

電力：高性能GPUの電力消費に対応

冷却：データセンター級の冷却設備

コスト：初期投資 ¥10,000,000〜
　　　　運用コスト ¥500,000/月〜
```

## プロバイダー別のセキュリティ評価

### OpenAI（ChatGPT、GPT-4）

| 項目 | 評価 | 詳細 |
|-----|------|------|
| データ保存 | △ | デフォルトで30日間保存、学習に使用される |
| Enterprise版 | ◎ | 学習に使用されない、SOC 2準拠 |
| 所在地 | ○ | アメリカ（GDPR対応あり） |
| 透明性 | ○ | ポリシーは公開されている |

**推奨設定**：
- 企業利用は ChatGPT Enterprise または API（オプトアウト設定）
- 個人利用でも機密情報は入力しない

### Anthropic（Claude）

| 項目 | 評価 | 詳細 |
|-----|------|------|
| データ保存 | ◎ | デフォルトで学習に使用されない |
| セキュリティ | ◎ | SOC 2 Type 2、HIPAA準拠 |
| 所在地 | ○ | アメリカ |
| 透明性 | ◎ | 非常に透明性が高い |

**推奨**：
- 企業利用に最も適している
- デフォルトでセキュアな設定

### Google（Gemini）

| 項目 | 評価 | 詳細 |
|-----|------|------|
| データ保存 | △ | 無料版は学習に使用される可能性 |
| ビジネス版 | ◎ | 学習に使用されない |
| 所在地 | ○ | アメリカ（複数リージョン対応） |
| 透明性 | ○ | ポリシーは公開されている |

**推奨設定**：
- Gemini for Business または Vertex AI を使用

### DeepSeek（中国製LLM）⚠️

| 項目 | 評価 | 詳細 |
|-----|------|------|
| データ保存 | × | 不明確 |
| セキュリティ | × | 認証なし |
| 所在地 | × | 中国（データ保護法が異なる） |
| 透明性 | × | ポリシーが不明瞭 |

**⚠️ 警告：企業利用は推奨しません**

理由：
1. データがどこに保存されるか不明
2. 中国のサイバーセキュリティ法により、政府がデータにアクセス可能
3. セキュリティ認証がない
4. プライバシーポリシーが不明瞭
5. 法的リスクが高い

**絶対に避けるべき用途**：
- 企業の機密情報
- 顧客データ
- ソースコード
- 設計書・要件定義書

## 開発現場別の推奨構成

### スタートアップ・小規模チーム

```
推奨：Anthropic Claude（claude.ai）
理由：
- デフォルトで学習に使用されない
- 低コスト
- すぐに使える
- セキュリティが高い

注意：機密情報は入力しない
```

### 中規模企業

```
推奨：AWS Bedrock（Claude）またはAzure OpenAI
理由：
- VPC内でセキュア
- スケーラブル
- 既存のクラウドインフラと統合しやすい
- コンプライアンス要件を満たせる

コスト：月額¥10,000〜¥100,000
```

### 大企業・金融機関

```
推奨：オンプレミス（Llama 3、Mistral）+ プライベートクラウド併用
理由：
- 最高レベルのセキュリティ
- データが完全に社内
- カスタマイズ可能
- コンプライアンス完全対応

コスト：初期¥10,000,000〜、運用¥500,000/月〜
```

## 選定チェックリスト

```markdown
## LLM選定チェックリスト

### セキュリティ要件
- [ ] 機密情報を扱うか？
- [ ] コンプライアンス要件はあるか？
- [ ] データの所在地制約はあるか？
- [ ] 学習データに使われても良いか？

### 予算
- [ ] 初期投資はいくらまで可能か？
- [ ] 月額運用コストはいくらまで可能か？

### 技術要件
- [ ] オンプレミス運用の技術力はあるか？
- [ ] GPUインフラは確保できるか？
- [ ] クラウド利用は許可されているか？

### 判定
- 全て「いいえ」→ Claude（claude.ai）
- 機密情報あり＋クラウドOK → AWS Bedrock / Azure OpenAI
- 機密情報あり＋クラウドNG → オンプレミス
```

## まとめ

| 現場 | 推奨 | 理由 |
|-----|------|------|
| スタートアップ | Claude（claude.ai） | セキュアで低コスト |
| 中規模企業 | AWS Bedrock / Azure OpenAI | VPC内でセキュア |
| 大企業・金融 | オンプレミス（Llama 3等） | 最高セキュリティ |

**絶対に避けるべき**：
- DeepSeek（中国製LLM）
- セキュリティポリシーが不明なプロバイダー
- 学習に使用されるサービス（機密情報を扱う場合）

次のセクションでは、サンドボックス環境の構築方法を学びます。
